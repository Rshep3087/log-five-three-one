{% extends "base.html" %}
{% import 'bootstrap/wtf.html' as wtf %}

{% block styles %}
{{super()}}
<link rel="stylesheet"
      href="{{url_for('static', filename='css/main.css')}}">
{% endblock %}


{% block app_content %}
    <form class="form" method="POST" action="">
        {{ form.hidden_tag() }}
        {{ wtf.form_errors(form, hiddens="only") }}

        {{ wtf.form_field(form.title) }}
        {{ wtf.form_field(form.warm_up) }}
        {{ wtf.form_field(form.main_lift) }}
        
        <div>
            <button type="button" class="btn btn-primary" value="Add" onclick="add();">Add Set</button>
            <button type="button" class="btn btn-secondary" value="Remove" onclick="remove();">Remove Set</button>
        </div>
        <br>
        <div id="main-subform-container" class="form-inline">
            {% for subform in form.sets %}
                <div id="set-{{ loop.index0 }}-form" class="subform" data-index="{{ loop.index0 }}">
                    <label id="sets-0-label" class="set-label">Set: {{loop.index}}</label>
                    {{ subform.reps(class="form-control", placeholder="Reps") }}
                    {{ subform.weight(class="form-control", placeholder="Weight") }}
                </div>
            {% endfor %}
        </div>
        <div id="main-_-form" class="hidden" data-index="_">
            <label id="sets-_-label" class="set-label"></label>
            <input class="form-control" id="sets-_-reps" name="sets-_-reps" type="text" placeholder="Reps">
            <input class="form-control" id="sets-_-weight" name="sets-_-weight" type="text" placeholder="Weight">
        </div>
        <br>
        <label class="control-label">Accessories</label>
        <div>
            <button type="button" class="btn btn-primary" value="Add">Add Accessory</button>
            <button type="button" class="btn btn-secondary" value="Remove">Remove Accessory</button>
        </div>
        <br>
        <div class="form-inline">
            {% for subform in form.accessories %}
                <div class="subform">
                    {{ wtf.form_field(subform.lift) }}
                    {{ subform.reps(class="form-control", placeholder="Reps") }}
                    {{ subform.weight(class="form-control", placeholder="Weight") }}
                </div>
            {% endfor %}
        </div>
        <br>
        {{ wtf.form_field(form.conditioning) }}
        {{ wtf.form_field(form.submit) }}
    </form>
{% endblock %}

{% block scripts %}
<script src="{{url_for('static', filename='js/posts.js')}}"></script>
{{super()}}
{% endblock %}